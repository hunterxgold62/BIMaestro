<Window x:Class="MyRevitTroll.SimpleGangnamStickmanWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Gangnam Stickman" Height="400" Width="300"
        WindowStartupLocation="CenterScreen">
    <Canvas x:Name="MainCanvas" Background="White">
        <!-- Stickman complet -->
        <Canvas x:Name="Stickman" Width="80" Height="200" Canvas.Left="110" Canvas.Top="100">
            <Canvas.RenderTransform>
                <TransformGroup>
                    <!-- Déplacement global (bobbing) -->
                    <TranslateTransform x:Name="ttStickman" />
                    <!-- Rotation globale pour un effet de balancement -->
                    <RotateTransform x:Name="rtStickman" CenterX="40" CenterY="100"/>
                </TransformGroup>
            </Canvas.RenderTransform>
            <!-- Tête -->
            <Ellipse Width="30" Height="30" Fill="Black" Canvas.Left="25" Canvas.Top="0"/>
            <!-- Corps -->
            <Line X1="40" Y1="30" X2="40" Y2="100" Stroke="Black" StrokeThickness="3"/>
            <!-- Bras gauche -->
            <Line X1="40" Y1="40" X2="20" Y2="70" Stroke="Black" StrokeThickness="3"/>
            <!-- Bras droit -->
            <Line X1="40" Y1="40" X2="60" Y2="70" Stroke="Black" StrokeThickness="3"/>
            <!-- Jambe gauche -->
            <Line X1="40" Y1="100" X2="25" Y2="150" Stroke="Black" StrokeThickness="3"/>
            <!-- Jambe droite -->
            <Line X1="40" Y1="100" X2="55" Y2="150" Stroke="Black" StrokeThickness="3"/>
        </Canvas>
    </Canvas>

    <!-- Définition d'un storyboard qui s'exécute au chargement de la fenêtre -->
    <Window.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard>
                <Storyboard RepeatBehavior="Forever">
                    <!-- Animation de translation verticale (bobbing) -->
                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="ttStickman"
                                                   Storyboard.TargetProperty="Y">
                        <SplineDoubleKeyFrame KeyTime="0:0:0" Value="0"/>
                        <SplineDoubleKeyFrame KeyTime="0:0:0.5" Value="-20"/>
                        <SplineDoubleKeyFrame KeyTime="0:0:1" Value="0"/>
                        <SplineDoubleKeyFrame KeyTime="0:0:1.5" Value="10"/>
                        <SplineDoubleKeyFrame KeyTime="0:0:2" Value="0"/>
                    </DoubleAnimationUsingKeyFrames>
                    <!-- Animation de rotation pour le balancement -->
                    <DoubleAnimationUsingKeyFrames Storyboard.TargetName="rtStickman"
                                                   Storyboard.TargetProperty="Angle">
                        <SplineDoubleKeyFrame KeyTime="0:0:0" Value="0"/>
                        <SplineDoubleKeyFrame KeyTime="0:0:0.5" Value="10"/>
                        <SplineDoubleKeyFrame KeyTime="0:0:1" Value="0"/>
                        <SplineDoubleKeyFrame KeyTime="0:0:1.5" Value="-10"/>
                        <SplineDoubleKeyFrame KeyTime="0:0:2" Value="0"/>
                    </DoubleAnimationUsingKeyFrames>
                </Storyboard>
            </BeginStoryboard>
        </EventTrigger>
    </Window.Triggers>
</Window>
